(function(e){function t(t){for(var r,i,o=t[0],u=t[1],c=t[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=this["webpackJsonp"]=this["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0bde":function(e,t,n){"use strict";n("b03c")},"0e7b":function(e,t,n){},"2f38":function(e,t,n){e.exports=n.p+"js/0.be07e169.worker.js"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"col-8 offset-2"},[n("h1",{staticClass:"title text-center",staticStyle:{"font-size":"5em",margin:"130px 0 70px"}},[n("LibLogo")],1),n("div",{staticClass:"d-flex flex-row justify-content-center",staticStyle:{"margin-bottom":"70px"}},[n("button",{staticClass:"btn btn-primary tab-toggle m-3",class:{"tab-toggle-enabled":!e.demoTabEnabled},attrs:{type:"button"},on:{click:function(t){e.demoTabEnabled=!1}}},[e._v(" DOCS ")]),n("button",{staticClass:"btn btn-primary tab-toggle m-3",class:{"tab-toggle-enabled":e.demoTabEnabled},attrs:{type:"button"},on:{click:function(t){e.demoTabEnabled=!0}}},[e._v(" TRY IT! ")])]),e.demoTabEnabled?e._e():n("Docs"),e.demoTabEnabled?n("Demo"):e._e()],1)])},s=[],i=(n("fc04"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._v("ogc-client")])])}],u={name:"LibLogo"},c=u,l=(n("902e"),n("2877")),p=Object(l["a"])(c,i,o,!1,null,"7bc12546",null),d=p.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",{staticClass:"mb-4"},[e._v("Presentation")]),n("p",[n("LibName"),e._v(" is a pure Javascript library made for interacting with geospatial web services relying on standard protocols, namely "),n("a",{attrs:{href:"https://www.ogc.org/docs/is"}},[e._v("OGC standards.")])],1),n("p",[e._v(" Its purpose is to helps you interact with them in a user-friendly and consistent way. ")]),n("p",[e._v("Its main features include:")]),e._m(0),n("h2",{staticClass:"mt-5 mb-4"},[e._v("Usage")]),n("p",[e._v("First, install "),n("LibName"),e._v(" in your project:")],1),n("p",[n("CodeBlock",{attrs:{lang:"sh"}},[e._v("$ npm install --save @camptocamp/ogc-client")])],1),n("p",[e._v("Then, use it like so:")]),n("p",[n("CodeBlock",{attrs:{lang:"js"}},[n("pre",[e._v("import { WfsEndpoint } from '@camptocamp/ogc-client';\n\nnew WfsEndpoint('https://my.server.org/ows')\n  .then(endpoint => endpoint.supportsJson());")])])],1),n("p",[e._v(" Please refer to the API section for more details on how to use each functionality. ")]),n("h2",{staticClass:"mt-5 mb-4"},[e._v("Why use it?")]),n("p",[e._v(" Many libraries are able to leverage OGC protocols for various specialized tasks, for instance downloading data or rendering maps. Often times though, the application code has the responsibility to specify the version to use, the coordinate system, the bounding box to query, etc. ")]),n("p",[n("LibName"),e._v(" intends to assist applications in discovering OGC services and what they offer, without having to manually write code for parsing GetCapabilities documents for example. ")],1),n("p",[e._v(" When an network error is encountered, "),n("LibName"),e._v(" will do an additional check to determine whether this is due to "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS"}},[e._v("CORS")]),e._v(" limitations. This will help the application code in giving an appropriate feedback to the user, i.e. that the targeted resource is indeed reachable but does not allow cross-origin usage. ")],1),n("p",[n("LibName"),e._v(" also keeps a cache of all operations using the "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Cache"}},[e._v("Cache API")]),e._v(", thus offering almost limitless storage while also purging expired cache entries regularly. By default, all cache entries are kept for one hour. ")],1),n("p",[e._v("What "),n("LibName"),e._v(" currently does not do:")],1),e._m(1),n("h2",{staticClass:"mt-5 mb-4"},[e._v("Examples")]),n("h5",[e._v("Read a WMS layer extent")]),n("p",[n("CodeBlock",{attrs:{lang:"js"}},[n("pre",[e._v("import { WmsEndpoint } from '@camptocamp/ogc-client';\n\nasync function readExtent() {\n  const endpoint = await new WmsEndpoint('https://my.server.org/ows').isReady()\n  const layer = endpoint.getLayerByName();\n  const extent = layer.boundingBoxes['EPSG:4326'];\n}")])])],1),n("h5",[e._v("Compute a WFS GetFeature url")]),n("p",[n("CodeBlock",{attrs:{lang:"js"}},[n("pre",[e._v("import { WfsEndpoint } from '@camptocamp/ogc-client';\n\nasync function getFeatureUrl() {\n  const endpoint = await new WfsEndpoint('https://my.server.org/ows').isReady()\n  const url = endpoint.getFeatureUrl('my:featureType', {\n    asJson: true,\n    maxFeature: 1000\n  });\n}")])])],1),n("h2",{staticClass:"mt-5 mb-4"},[e._v("API")]),n("ApiDescription")],1)},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v(" Support for "),n("a",{attrs:{href:"https://www.ogc.org/standards/wfs"}},[e._v("WFS")]),e._v(" and "),n("a",{attrs:{href:"https://www.ogc.org/standards/wms"}},[e._v("WMS")]),e._v(" protocols ")]),n("li",[e._v("Elaborate cache system to minimize network requests")]),n("li",[e._v(" Fast parsing of XML documents using "),n("a",{attrs:{href:"https://github.com/rgrove/parse-xml"}},[e._v("@rgrove/parse-xml")])]),n("li",[e._v(" Detection of "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS"}},[e._v("CORS")]),e._v("-related issues ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v(" No "),n("a",{attrs:{href:"https://www.ogc.org/standards/wmts"}},[e._v("WMTS")]),e._v(" parsing: alternatives already exist, such as the OpenLayers "),n("a",{attrs:{href:"https://openlayers.org/en/latest/apidoc/module-ol_format_WMTSCapabilities-WMTSCapabilities.html"}},[e._v("WMTS Capabilities")]),e._v(" class ("),n("a",{attrs:{href:"https://openlayers.org/en/latest/examples/wmts-capabilities.html"}},[e._v("example")]),e._v(") ")]),n("li",[e._v(" No GML geometry parsing: again, "),n("a",{attrs:{href:"https://openlayers.org/en/latest/apidoc/module-ol_format_GML32-GML32.html"}},[e._v("alternatives do exist")])])])}],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",[n("code",{class:e.lang+" border-0 rounded-2 p-3"},[e._t("default")],2)])},y=[],b={name:"CodeBlock",props:["lang"]},v=b,g=Object(l["a"])(v,h,y,!1,null,"e4c545f6",null),_=g.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.API.exports,(function(t){return["Class"===t.type?n("ClassCard",{attrs:{"api-element":t}}):e._e(),"Function"===t.type?n("FunctionCard",{attrs:{"api-element":t}}):e._e()]}))],2)},C=[],T={exports:[{name:"WfsEndpoint",type:"Class",constructor:{params:[{name:"url",type:"string"}],description:"Creates a new WFS endpoint; wait for the `isReady()` promise before using the endpoint methods."},methods:[{name:"isReady",description:"Resolves when the endpoint is ready to use. Returns the same endpoint object for convenience.",params:[],return:{type:"Promise",subType:"WfsEndpoint"}},{name:"getServiceInfo",description:"Returns the service info.",params:[],return:{type:"GenericEndpointInfo"}},{name:"getVersion",description:"Returns the highest protocol version that this WFS endpoint supports.\nNote that if the url used for initialization does specify a version (e.g. `1.0.0`,\nthis version will most likely be used instead of the highest supported one.",params:[],return:{type:"string",values:["1.0.0","1.1.0","2.0.0"]}},{name:"getFeatureTypes",description:"Returns the available feature types.",params:[],return:{type:"Array",subType:"WfsFeatureTypeBrief"}},{name:"getFeatureTypeSummary",description:"Returns the feature type in summary format. If a namespace is specified in the name,\nthis will be used for matching; otherwise, matching will be done without taking namespaces into account.",params:[{name:"featureType",type:"string"}],return:{type:"WfsFeatureTypeSummary"}},{name:"getFeatureTypeFull",description:"Returns a promise that will resolve with the full feature type description,\nincluding properties with their types, geometry field and total object count.",params:[{name:"featureType",type:"string"}],return:{type:"Promise",subType:"WfsFeatureTypeFull"}},{name:"getFeatureTypePropDetails",description:"Returns a promise that will resolve with details on each of the feature type properties;\nfor now, this consists of a list of unique values in the whole dataset.",params:[{name:"featureType",type:"string"}],return:{type:"Promise",subType:"WfsFeatureTypePropDetails"}},{name:"supportsJson",description:"Returns true if the endpoint is able to output the specified feature type as GeoJSON.",params:[{name:"featureType",type:"string"}],return:{type:"boolean"}},{name:"getFeatureUrl",description:"Returns a URL that can be used to query features from this feature type.",params:[{name:"featureType",type:"string"},{name:"options",type:"GetFeatureUrlOptions"}],return:{type:"string"}}]},{name:"WmsEndpoint",type:"Class",constructor:{params:[{name:"url",type:"string"}],description:"Creates a new WMS endpoint; wait for the `isReady()` promise before using the endpoint methods."},methods:[{name:"isReady",description:"Resolves when the endpoint is ready to use. Returns the same endpoint object for convenience.",params:[],return:{type:"Promise",subType:"WmsEndpoint"}},{name:"getServiceInfo",description:"Returns the service info.",params:[],return:{type:"GenericEndpointInfo"}},{name:"getVersion",description:"Returns the highest protocol version that this WMS endpoint supports.\nNote that if the url used for initialization does specify a version (e.g. `1.1.0`,\nthis version will most likely be used instead of the highest supported one.",params:[],return:{type:"string",values:["1.1.0","1.1.1","1.3.0"]}},{name:"getLayers",description:"Returns the layers advertised in the endpoint. Note that WMS layers are organized\nin a tree structure, so some layers may have children layers as well",params:[],return:{type:"Array",subType:"WmsLayerSummary"}},{name:"getLayerByName",description:"Returns the full layer information, including supported coordinate systems,\navailable layers, bounding boxes etc. Layer name is case sensitive.",params:[{name:"layerName",type:"string"}],return:{type:"WmsLayerFull"}}]},{name:"useCache",type:"Function",description:"Will run the provided function and resolve to its return value.\nThe function return value will also be stored in cache, meaning that subsequent runs will **not** execute the function but\nsimply return the cached value. `keys` are an indeterminate amount of string tokens that are used to uniquely identify the operation.\n\nCached values are kept for one hour. Each call to `useCache` will first loop on the currently cached values and\nclear the ones that have expired to make sure that the cache storage does not grow indefinitely.\n\nAlso note that if `useCache` is called several times with the same key without the first one having returned yet, all subsequent calls\nwill **not** trigger additional operations but simply resolve at the same time as the first one.\n\nCache is kept using the [Cache API](https://developer.mozilla.org/en-US/docs/Web/API/Cache), which has virtually no size limit.\nCache entries might be removed by the browser without notice. The identifying key for the cache entries is `ogc-client`.",params:[{name:"process",type:"AsyncFunction",params:[],subType:"any"},{name:"...keys",type:"Array",subType:"string"}],return:{type:"Promise",subType:"any"}},{name:"sharedFetch",type:"Function",description:"Returns a promise equivalent to `fetch(url)` but guarded against identical concurrent requests.\nRequests are considered identical if they share the _exact_ same url.",params:[{name:"url",type:"string"}],return:{type:"Promise",subType:"Response"}}],types:[{name:"GenericEndpointInfo",type:"Object",properties:[{type:"string",name:"name"},{type:"string",name:"title"},{type:"string",name:"abstract"},{type:"string",name:"fees"},{type:"string",name:"constraints"},{type:"Array",subType:"string",name:"keywords"},{type:"Array",subType:"string",name:"outputFormats",optional:!0}]},{name:"WfsFeatureTypeBrief",type:"Object",properties:[{type:"string",name:"name"},{type:"string",name:"title",optional:!0},{type:"string",name:"abstract",optional:!0},{type:"BoundingBox",name:"boundingBox",optional:!0}]},{name:"WfsFeatureTypeSummary",type:"Object",properties:[{type:"string",name:"name"},{type:"string",name:"title",optional:!0},{type:"string",name:"abstract",optional:!0},{type:"BoundingBox",name:"boundingBox",optional:!0},{type:"CrsCode",name:"defaultCrs"},{type:"Array",subtype:"CrsCode",name:"otherCrs"},{type:"Array",subtype:"string",name:"outputFormats"}]},{name:"WfsFeatureTypeFull",type:"Object",properties:[{type:"string",name:"name"},{type:"string",name:"title",optional:!0},{type:"string",name:"abstract",optional:!0},{type:"BoundingBox",name:"boundingBox",optional:!0},{type:"CrsCode",name:"defaultCrs"},{type:"Array",subtype:"CrsCode",name:"otherCrs"},{type:"Array",subtype:"string",name:"outputFormats"},{type:"Map",subType:"FeaturePropertyType",name:"properties",description:"These properties will _not_ include the feature geometry"},{type:"string",name:"geometryName",description:"Not defined if no geometry present",optional:!0},{type:"FeatureGeometryType",name:"geometryType",description:"Not defined if no geometry present",optional:!0},{type:"number",name:"objectCount",description:"Not defined if object count could not be determined",optional:!0}]},{name:"WfsFeatureTypePropDetails",type:"Object",properties:[{name:"uniqueValues",type:"Array",subType:"WfsFeatureTypeUniqueValue"}]},{name:"WfsFeatureTypeUniqueValue",type:"Object",properties:[{type:"number",name:"count",description:"Number of occurrences of this value in the dataset"},{type:"Union",subTypes:["number","boolean","string"],name:"value"}]},{name:"GetFeatureUrlOptions",type:"Object",properties:[{type:"number",name:"maxFeatures",description:"All objects will be returned if undefined"},{type:"boolean",name:"asJson",description:"If `true`, will ask for GeoJSON; will throw if the service does not support it"},{type:"MimeType",name:"outputFormat",description:"A supported output format (overridden by `asJson`)"},{type:"CrsCode",name:"outputCrs",description:"If unspecified, this will be the data native projection"},{type:"BoundingBox",name:"extent",description:"An extent to restrict returned objects"},{type:"CrsCode",name:"extentCrs",description:"If unspecified, `extent` should be in the data native projection"}]},{name:"WmsLayerSummary",type:"Object",properties:[{type:"string",name:"name",description:"The layer is renderable if defined",optional:!0},{type:"string",name:"title"},{type:"string",name:"abstract"},{type:"Array",subType:"WmsLayerFull",name:"children",description:"Not defined if the layer is a leaf in the tree",optional:!0}]},{name:"WmsLayerFull",type:"Object",properties:[{type:"string",name:"name",description:"The layer is renderable if defined",optional:!0},{type:"string",name:"title"},{type:"string",name:"abstract",optional:!0},{type:"Array",subType:"CrsCode",name:"availableCrs"},{type:"Array",subType:"WmsLayerStyle",name:"styles"},{type:"Map",key:"string",subType:"BoundingBox",name:"boundingBoxes",description:"Dictionary of bounding boxes for each of the available CRS"},{type:"WmsLayerAttribution",name:"attribution",optional:!0},{type:"Array",subType:"WmsLayerFull",name:"children",description:"Not defined if the layer is a leaf in the tree",optional:!0}]},{name:"WmsLayerAttribution",type:"Object",properties:[{type:"string",name:"title",optional:!0},{type:"string",name:"url",optional:!0},{type:"string",name:"logoUrl",optional:!0}]},{name:"WmsLayerStyle",type:"Object",properties:[{type:"string",name:"name"},{type:"string",name:"title"},{type:"string",name:"legendUrl",description:"May not be defined; a GetLegendGraphic operation should work in any case",optional:!0}]},{name:"BoundingBox",type:"Array",subTypes:["number","number","number","number"],description:"Values are `minX`, `minY`, `maxX` and `maxY` expressed in latitudes and longitudes"}]},x=T,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-header text-uppercase small border-bottom-0 py-1 px-3"},[e._v(" class ")]),n("div",{staticClass:"card-body pb-0"},[n("h5",{staticClass:"mb-3"},[n("code",{domProps:{innerHTML:e._s(e.className)}})]),n("CodeBlock",{staticClass:"mb-3",attrs:{lang:"js"}},[n("pre",[e._v("import { "+e._s(e.apiElement.name)+" } from '@camptocamp/ogc-client';")])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-3 text-uppercase text-secondary fw-bold pt-1",staticStyle:{"font-size":"0.8em"}},[e._v(" 📦 constructor ")]),n("div",{staticClass:"col"},[n("code",{staticClass:"mb-2",domProps:{innerHTML:e._s(e.constructorSignature)}}),e.apiElement.constructor.description?n("MarkdownBlock",{staticClass:"mb-2 small",attrs:{text:e.apiElement.constructor.description}}):e._e()],1)]),e._l(e.apiElement.methods,(function(t){return n("div",{staticClass:"row"},[n("div",{staticClass:"col-3 text-uppercase text-secondary fw-bold pt-1",staticStyle:{"font-size":"0.8em"}},[e._v(" ⚡ method ")]),n("div",{staticClass:"col"},[n("code",{staticClass:"mb-2",domProps:{innerHTML:e._s(e.formatMethod(t))}}),n("div",{staticClass:"row pb-2"},[n("div",{staticClass:"col-3 text-uppercase text-secondary fw-bold pt-1",staticStyle:{"font-size":"0.8em"}},[e._v(" 🌱️ returns ")]),n("div",{staticClass:"col"},[n("code",{domProps:{innerHTML:e._s(e.formatMethodReturned(t))}})])]),t.description?n("MarkdownBlock",{staticClass:"mb-2 small",attrs:{text:t.description}}):e._e()],1)])})),n("MarkdownBlock",{staticClass:"mb-3 mt-2 small",attrs:{text:e.apiElement.description}})],2)])},j=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{domProps:{innerHTML:e._s(e.parsed)}})},S=[],k=n("7c5c"),F={name:"MarkdownBlock",props:{text:String},computed:{parsed:function(){return k["parse"](this.text)}}},P=F,R=Object(l["a"])(P,E,S,!1,null,"53a4bfa6",null),L=R.exports;n("b0c0"),n("a15b"),n("d81d"),n("99af"),n("d3b7"),n("ddb0");function I(e){return e.name}function W(e){var t=e.params.map((function(e){return"".concat(e.name,": ").concat(M(e))})).join(", ");return"".concat(e.name,"(").concat(t,")")}function A(e){var t=e.constructor.params.map((function(e){return"".concat(e.name,": ").concat(M(e))})).join(", ");return"new ".concat(e.name,"(").concat(t,")")}function M(e){if(!e)return"void";var t=e.subType?M(e.subType):"";switch(e.type||e){case"Array":return"".concat(t,"[]");case"Response":return"[Response](https://developer.mozilla.org/en-US/docs/Web/API/Response)";case"Promise":return"[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;".concat(t,"&gt;");case"AsyncFunction":return"async () => ".concat(t);case"string":if(e.values)return e.values.map((function(e){return"'".concat(e)})).join(" | ")}return e.type||e}var B={name:"ClassCard",components:{MarkdownBlock:L,CodeBlock:_},props:{apiElement:Object},methods:{formatMethod:function(e){return k["parseInline"](W(e))},formatMethodReturned:function(e){return k["parseInline"](M(e.return))}},computed:{className:function(){return k["parseInline"](I(this.apiElement))},constructorSignature:function(){return k["parseInline"](A(this.apiElement))}}},N=B,U=(n("fb2c"),Object(l["a"])(N,O,j,!1,null,"066883f0",null)),D=U.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-header text-uppercase small border-bottom-0 py-1 px-3"},[e._v(" function ")]),n("div",{staticClass:"card-body pb-0"},[n("h5",{staticClass:"mb-3"},[n("code",{domProps:{innerHTML:e._s(e.signature)}})]),n("CodeBlock",{staticClass:"mb-3",attrs:{lang:"js"}},[n("pre",[e._v("import { "+e._s(e.apiElement.name)+" } from '@camptocamp/ogc-client';")])]),n("div",{staticClass:"row pb-2"},[n("div",{staticClass:"col-3 text-uppercase text-secondary fw-bold pt-1",staticStyle:{"font-size":"0.8em"}},[e._v(" 🌱 returns ")]),n("div",{staticClass:"col"},[n("code",{domProps:{innerHTML:e._s(e.returned)}})])]),n("MarkdownBlock",{staticClass:"small mt-2",attrs:{text:e.apiElement.description}})],1)])},G=[],$={name:"FunctionCard",components:{MarkdownBlock:L,CodeBlock:_},props:{apiElement:Object},computed:{signature:function(){return k["parseInline"](W(this.apiElement))},returned:function(){return k["parseInline"](M(this.apiElement.return))}}},q=$,z=(n("b467"),Object(l["a"])(q,V,G,!1,null,"4232c682",null)),J=z.exports,H={name:"ApiDescription",components:{FunctionCard:J,ClassCard:D},data:function(){return{API:x}}},Y=H,X=Object(l["a"])(Y,w,C,!1,null,"31bb864d",null),Q=X.exports,K=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._v("ogc-client")])])}],ee={name:"LibName"},te=ee,ne=(n("0bde"),Object(l["a"])(te,K,Z,!1,null,"40416280",null)),re=ne.exports,ae={name:"Docs",components:{CodeBlock:_,ApiDescription:Q,LibName:re}},se=ae,ie=Object(l["a"])(se,m,f,!1,null,"227d2438",null),oe=ie.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pb-5"},[n("h2",{staticClass:"my-4"},[e._v("WMS")]),n("p",[e._v(" Enter a WMS service URL below to get some information and a list of layers from it. ")]),n("WmsEndpoint"),n("h2",{staticClass:"my-4"},[e._v("WFS")]),n("p",[e._v(" Enter a WFS service URL below to get some information and a list of feature types from it. ")]),n("WfsEndpoint")],1)},ce=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex flex-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"form-control me-3",attrs:{placeholder:"Enter a WMS service URL here"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.createEndpoint()}}},[e._v(" Analyze ")])]),e.loading?n("div",[e._v("Loading...")]):e._e(),e.loaded?n("div",[n("InfoList",{attrs:{info:e.endpoint.getServiceInfo()}}),n("ItemsTree",{staticStyle:{"min-height":"200px"},attrs:{items:e.endpoint.getLayers()},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",{attrs:{title:r.abstract}},[r.name?[n("a",{staticClass:"link-light",attrs:{href:""},on:{click:function(t){return e.handleLayerClick(r,t)}}},[e._v(e._s(r.title))])]:[n("span",[e._v(e._s(r.title))])]],2)]}}],null,!1,139247298)}),e.selectedLayer?n("WmsLayerInfo",{attrs:{layer:e.selectedLayer,"endpoint-url":e.url}}):e._e()],1):e._e(),e.error?n("div",[e._v("Error: "+e._s(e.error))]):e._e()])},pe=[],de=n("1da1"),me=(n("96cf"),n("5530")),fe=n("d4ec"),he=n("bee2"),ye=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(fe["a"])(this,e),this.message=t,this.httpStatus=n,this.isCrossOriginRelated=r},be=n("9566"),ve=n("b85c"),ge=(n("c1c3"),n("4ec9"),n("3ca3"),n("25f0"),n("ac1f"),n("466d"),36e5);function _e(){return ge}var we="caches"in self?caches.open("ogc-client"):null;function Ce(e){return Te.apply(this,arguments)}function Te(){return Te=Object(de["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(we){e.next=2;break}return e.abrupt("return");case 2:for(n=o.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=o[a];return s="https://cache/"+r.join("/"),e.next=6,we;case 6:return i=e.sent,e.next=9,i.put(s,new Response(JSON.stringify(t),{headers:{"x-expiry":(Date.now()+_e()).toString(10)}}));case 9:case"end":return e.stop()}}),e)}))),Te.apply(this,arguments)}function xe(){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(de["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(we){e.next=2;break}return e.abrupt("return",!1);case 2:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];return a="https://cache/"+n.join("/"),e.next=6,we;case 6:return s=e.sent,e.abrupt("return",s.match(a).then((function(e){return!!e&&parseInt(e.headers.get("x-expiry"))>Date.now()})));case 8:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function je(){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(de["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(we){e.next=2;break}return e.abrupt("return",null);case 2:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r];return a="https://cache/"+n.join("/"),e.next=6,we;case 6:return s=e.sent,e.next=9,s.match(a);case 9:return i=e.sent,e.abrupt("return",i?i.clone().json():null);case 11:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}var Se=new Map;function ke(e){return Fe.apply(this,arguments)}function Fe(){return Fe=Object(de["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i,o,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:for(n=u.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=u[a];return e.next=5,xe.apply(void 0,r);case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",je.apply(void 0,r));case 7:if(s=r.join("#"),!Se.has(s)){e.next=10;break}return e.abrupt("return",Se.get(s));case 10:return i=t(),i instanceof Promise&&(i.then((function(){return Se.delete(s)})),Se.set(s,i)),e.next=14,i;case 14:return o=e.sent,e.next=17,Ce.apply(void 0,[o].concat(r));case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}function Pe(){return Re.apply(this,arguments)}function Re(){return Re=Object(de["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(we){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,we;case 4:return t=e.sent,e.next=7,t.keys();case 7:n=e.sent,r=Object(ve["a"])(n),e.prev=9,r.s();case 11:if((a=r.n()).done){e.next=21;break}return s=a.value,e.next=15,t.match(s);case 15:if(i=e.sent,!(parseInt(i.headers.get("x-expiry"))<=Date.now())){e.next=19;break}return e.next=19,t.delete(s);case 19:e.next=11;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](9),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[9,23,26,29]])}))),Re.apply(this,arguments)}n("5319"),n("2b3d"),n("b64b"),n("159b");var Le=n("2909"),Ie=n("262e"),We=n("2caf"),Ae=n("9072"),Me=(n("4de4"),n("7db0"),n("d97c")),Be=n.n(Me),Ne=function(e){Object(Ie["a"])(n,e);var t=Object(We["a"])(n);function n(e){return Object(fe["a"])(this,n),t.call(this,e)}return n}(Object(Ae["a"])(Error));function Ue(e){var t=null;try{t=Be()(e)}catch(n){throw new Ne(n.message)}return t}function De(e){return e.children[0]}function Ve(e){var t=e.indexOf(":");return t>-1?e.substr(t+1):e}function Ge(e){return e.name||""}function $e(e,t,n){var r=Ve(t);function a(e,t){return Ve(Ge(t))===r&&e.push(t),n&&Array.isArray(t.children)?[].concat(Object(Le["a"])(e),Object(Le["a"])(t.children.reduce(a,[]))):e}return e&&Array.isArray(e.children)?e.children.reduce(a,[]):[]}function qe(e,t){return e&&e.attributes[t]||""}var ze=new Map;function Je(e){if(ze.has(e))return ze.get(e);var t=fetch(e);return t.finally((function(){return ze.delete(e)})),ze.set(e,t),t}function He(e){return Je(e).catch((function(){return fetch(e,{method:"HEAD",mode:"no-cors"}).catch((function(e){throw new ye("Fetching the document failed either due to network errors or unreachable host, error is: ".concat(e.message),0,!1)})).then((function(){throw new ye("The document could not be fetched due to CORS limitations",0,!0)}))})).then(function(){var e=Object(de["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,t.ok){e.next=5;break}throw new ye("Received an error with code ".concat(t.status,": ").concat(n),t.status,!1);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return Ue(e)}))}function Ye(e,t){var n=e.match(/(https?%3A%2F%2F[^/]+)$/);if(n){var r=n[1],a=Ye(decodeURIComponent(r),t);return e.replace(r,encodeURIComponent(a))}var s,i=new URL(e),o=Object.keys(t),u=o.map((function(e){return e.toLowerCase()})),c=[],l=Object(ve["a"])(i.searchParams.keys());try{for(l.s();!(s=l.n()).done;){var p=s.value;u.indexOf(p.toLowerCase())>-1&&c.push(p)}}catch(d){l.e(d)}finally{l.f()}return c.map((function(e){return i.searchParams.delete(e)})),o.forEach((function(e){return i.searchParams.set(e,!0===t[e]?"":t[e])})),i.toString()}var Xe=function(){function e(t){var n=this;Object(fe["a"])(this,e);var r=Ye(t,{SERVICE:"WMS",REQUEST:"GetCapabilities"});this._capabilitiesPromise=ke((function(){return Object(be["b"])(r)}),"WMS","CAPABILITIES",r).then((function(e){var t=e.info,r=e.layers,a=e.version;n._info=t,n._layers=r,n._version=a})),this._info=null,this._layers=null,this._version=null}return Object(he["a"])(e,[{key:"isReady",value:function(){var e=this;return this._capabilitiesPromise.then((function(){return e}))}},{key:"getServiceInfo",value:function(){return this._info}},{key:"getLayers",value:function(){function e(t){return Object(me["a"])({title:t.title,name:t.name,abstract:t.abstract},"children"in t&&{children:t.children.map(e)})}return this._layers.map(e)}},{key:"getLayerByName",value:function(e){var t=null;function n(r){null===t&&(r.name!==e?"children"in r&&r.children.map(n):t=r)}return this._layers.map(n),t}},{key:"getVersion",value:function(){return this._version}}]),e}(),Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dl",{staticClass:"small"},[e._l(e.propList,(function(t){return[n("dt",[e._v(e._s(t.title))]),n("dd",[e._v(e._s(t.description))])]}))],2)},Ke=[],Ze={name:"InfoList",props:{info:Object},computed:{propList:function(){var e=this;return Object.keys(this.info).map((function(t){return{title:"".concat(t.substr(0,1).toUpperCase()).concat(t.substr(1)),description:"".concat(e.info[t])}}))}}},et=Ze,tt=(n("a8ac"),Object(l["a"])(et,Qe,Ke,!1,null,"6c49f3f5",null)),nt=tt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-dark small text-white p-2 rounded-1"},e._l(e.items,(function(t){return n("div",[n("TreeItem",{attrs:{item:t},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[e._t("default",null,{item:n})]}}],null,!0)})],1)})),0)},at=[],st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default",[e._v(" tree item ")],{item:e.item}),e.hasChildren?n("div",{staticStyle:{"margin-left":"1rem"}},e._l(e.children,(function(t){return n("div",[n("div",{staticClass:"spacer-s"}),n("TreeItem",{attrs:{item:t},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[e._t("default",null,{item:n})]}}],null,!0)})],1)})),0):e._e()],2)},it=[],ot={name:"TreeItem",props:{item:Object},computed:{hasChildren:function(){return"children"in this.item},children:function(){return this.item.children}}},ut=ot,ct=Object(l["a"])(ut,st,it,!1,null,"006eb16a",null),lt=ct.exports,pt={name:"ItemsTree",components:{TreeItem:lt},props:{items:Array},mounted:function(){}},dt=pt,mt=Object(l["a"])(dt,rt,at,!1,null,"2ef44cc0",null),ft=mt.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.layer.title))]),n("InfoList",{attrs:{info:e.layerInfo}}),n("div",{staticClass:"d-flex flex-row justify-content-between"},[n("label",[e._v(" Selected style: "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedStyle,expression:"selectedStyle"}],staticClass:"form-select d-inline-block w-auto",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedStyle=t.target.multiple?n:n[0]}}},e._l(e.layer.styles,(function(t){return n("option",{domProps:{value:t.name}},[e._v(" "+e._s(t.title)+" ")])})),0)]),n("label",[e._v(" Selected CRS: "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCrs,expression:"selectedCrs"}],staticClass:"form-select d-inline-block w-auto",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCrs=t.target.multiple?n:n[0]}}},e._l(e.layer.availableCrs,(function(t){return n("option",[e._v(" "+e._s(t)+" ")])})),0)])]),n("img",{attrs:{src:e.fullMapSrc,alt:"layer preview"}})],1)},yt=[],bt={name:"WmsLayerInfo",components:{InfoList:nt},props:{layer:Object,endpointUrl:String},data:function(){return{selectedStyle:"",selectedCrs:""}},watch:{layer:{immediate:!0,handler:function(e){this.selectedStyle=e.styles.length>0?e.styles[0].name:"",this.selectedCrs=e.availableCrs[0]}}},computed:{layerInfo:function(){return Object(me["a"])(Object(me["a"])({name:this.layer.name},this.layer.abstract&&{abstract:this.layer.abstract}),this.layer.attribution&&this.layer.attribution.title&&{attribution:this.layer.attribution.title})},fullMapSrc:function(){if(!(this.selectedCrs in this.layer.boundingBoxes))return"";var e=this.layer.boundingBoxes[this.selectedCrs],t=(e[2]-e[0])/(e[3]-e[1]),n=500,r=Math.round(t>1?n:n*t),a=Math.round(r/t),s=new URL(this.endpointUrl);return s.searchParams.set("SERVICE","WMS"),s.searchParams.set("REQUEST","GetMap"),s.searchParams.set("LAYERS",this.layer.name),s.searchParams.set("STYLES",this.selectedStyle),s.searchParams.set("WIDTH",r.toString()),s.searchParams.set("HEIGHT",a.toString()),s.searchParams.set("FORMAT","image/png"),s.searchParams.set("CRS",this.selectedCrs),s.searchParams.set("BBOX",e.join(",")),s.toString()}}},vt=bt,gt=Object(l["a"])(vt,ht,yt,!1,null,"469e236c",null),_t=gt.exports,wt={name:"WmsEndpoint",components:{WmsLayerInfo:_t,ItemsTree:ft,InfoList:nt},data:function(){return{loading:!1,error:null,endpoint:null,url:"https://ahocevar.com/geoserver/wms",selectedLayer:null}},computed:{loaded:function(){return this.endpoint&&!1===this.loading&&null===this.error}},methods:{createEndpoint:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=null,e.loading=!0,e.endpoint=new Xe(e.url),t.prev=3,t.next=6,e.endpoint.isReady();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](3),e.error=t.t0.message;case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[3,8]])})))()},handleLayerClick:function(e,t){this.selectedLayer=this.endpoint.getLayerByName(e.name),t.preventDefault()}}},Ct=wt,Tt=Object(l["a"])(Ct,le,pe,!1,null,"6ccee50d",null),xt=Tt.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex flex-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"form-control me-3",attrs:{placeholder:"Enter a WFS service URL here"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),n("div",{staticClass:"spacer-s"}),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.createEndpoint()}}},[e._v(" Analyze ")])]),e.loading?n("div",[e._v("Loading...")]):e._e(),e.loaded?n("div",[n("InfoList",{attrs:{info:e.endpoint.getServiceInfo()}}),n("ItemsTree",{staticStyle:{"min-height":"200px"},attrs:{items:e.endpoint.getFeatureTypes()},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",{attrs:{title:r.abstract}},[r.name?[n("a",{staticClass:"link-light",attrs:{href:""},on:{click:function(t){return e.handleItemClick(r,t)}}},[e._v(e._s(r.title))])]:[n("span",[e._v(e._s(r.title))])]],2)]}}],null,!1,951100628)}),e.selectedFeatureType?n("WfsFeatureTypeInfo",{attrs:{"feature-type":e.selectedFeatureType,endpoint:e.endpoint}}):e._e()],1):e._e(),e.error?n("div",[e._v("Error: "+e._s(e.error))]):e._e()])},jt=[],Et=n("3835"),St=n("ade3");n("2ca0"),n("9129"),n("a9e3");function kt(e,t,n,r){var a=e.name,s=e.title,i=e.abstract,o=e.defaultCrs,u=e.otherCrs,c=e.outputFormats,l=e.latLonBoundingBox,p=r.startsWith("2.0")?"numberMatched":"numberOfFeatures",d=parseInt(qe(De(n),p)),m=$e(De(t),"complexType",!0)[0],f=$e(m,"element",!0),h=f.filter((function(e){return qe(e,"type").startsWith("xsd:")})).reduce((function(e,t){return Object(me["a"])(Object(me["a"])({},e),{},Object(St["a"])({},qe(t,"name"),Ft(qe(t,"type"))))}),{}),y=f.filter((function(e){return qe(e,"type").startsWith("gml:")}))[0],b=y?qe(y,"name"):void 0,v=y?Pt(qe(y,"type")):void 0;return Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])({name:a},s&&{title:s}),i&&{abstract:i}),l&&{boundingBox:l}),o&&{defaultCrs:o}),u&&{otherCrs:u}),c&&{outputFormats:c}),{},{properties:h},b&&{geometryName:b}),v&&{geometryType:v}),!Number.isNaN(d)&&{objectCount:d})}function Ft(e){var t=e.indexOf(":")>-1?e.substr(e.indexOf(":")+1):e;switch(t){case"string":return"string";case"boolean":return"boolean";case"float":case"double":case"decimal":return"float";case"long":case"byte":case"integer":case"int":case"positiveInteger":case"negativeInteger":case"nonPositiveInteger":case"nonNegativeInteger":case"short":case"unsignedLong":case"unsignedInt":case"unsignedShort":case"unsignedByte":return"integer";default:return"string"}}function Pt(e){var t=e.indexOf(":")>-1?e.substr(e.indexOf(":")+1):e;switch(t){case"PointPropertyType":return"point";case"MultiPointPropertyType":return"multipoint";case"CurvePropertyType":case"LineStringPropertyType":return"linestring";case"MultiCurvePropertyType":case"MultiLineStringPropertyType":return"linestring";case"PolygonPropertyType":case"SurfacePropertyType":return"polygon";case"MultiPolygonPropertyType":case"MultiSurfacePropertyType":return"multipolygon";default:return"unknown"}}function Rt(e,t,n,r,a,s,i,o,u,c){var l="2.0.0"===t?"TYPENAMES":"TYPENAME",p="2.0.0"===t?"COUNT":"MAXFEATURES",d=Object(St["a"])({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:t},l,n);if(void 0!==r&&(d.OUTPUTFORMAT=r),void 0!==s&&(d.PROPERTYNAME=s.join(",")),i?(d.RESULTTYPE="hits",d[p]="1"):void 0!==a&&(d[p]=a.toString(10)),o&&(d.SRSNAME=o),u){var m=u.join(",");d.BBOX=c?"".concat(m,",").concat(c):m}return Ye(e,d)}function Lt(e,t,n){var r="2.0.0"===t?"TYPENAMES":"TYPENAME";return Ye(e,Object(St["a"])({SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:t},r,n))}var It=function(){function e(t){var n=this;Object(fe["a"])(this,e),this._capabilitiesUrl=Ye(t,{SERVICE:"WFS",REQUEST:"GetCapabilities"}),this._capabilitiesPromise=ke((function(){return Object(be["a"])(n._capabilitiesUrl)}),"WFS","CAPABILITIES",this._capabilitiesUrl).then((function(e){var t=e.info,r=e.featureTypes,a=e.version;n._info=t,n._featureTypes=r,n._version=a})),this._info=null,this._featureTypes=null,this._version=null}return Object(he["a"])(e,[{key:"isReady",value:function(){var e=this;return this._capabilitiesPromise.then((function(){return e}))}},{key:"getServiceInfo",value:function(){return this._info}},{key:"getFeatureTypes",value:function(){return this._featureTypes.map((function(e){return Object(me["a"])(Object(me["a"])(Object(me["a"])({name:e.name},"title"in e&&{title:e.title}),"abstract"in e&&{abstract:e.abstract}),"latLonBoundingBox"in e&&{boundingBox:e.latLonBoundingBox})}))}},{key:"_getFeatureTypeByName",value:function(e){if(!this._featureTypes)return null;var t=Ve(e)!==e;return this._featureTypes.find((function(n){return t?n.name===e:Ve(n.name)===e}))||null}},{key:"getFeatureTypeSummary",value:function(e){var t=this._getFeatureTypeByName(e);return t?Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])({name:t.name},"title"in t&&{title:t.title}),"abstract"in t&&{abstract:t.abstract}),"latLonBoundingBox"in t&&{boundingBox:t.latLonBoundingBox}),{},{defaultCrs:t.defaultCrs,otherCrs:t.otherCrs,outputFormats:t.outputFormats}):null}},{key:"getFeatureTypeFull",value:function(e){var t=this,n=this._getFeatureTypeByName(e);return n?ke((function(){var r=Lt(t._capabilitiesUrl,t._version,e),a=Rt(t._capabilitiesUrl,t._version,e,void 0,void 0,void 0,!0);return Promise.all([He(r),He(a)]).then((function(e){var r=Object(Et["a"])(e,2),a=r[0],s=r[1];return kt(n,a,s,t._version)}))}),"WFS","FEATURETYPEINFO",this._capabilitiesUrl,e):null}},{key:"getFeatureTypePropDetails",value:function(){var e=Object(de["a"])(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFeatureTypeFull(t);case 2:if(n=e.sent,null!==n){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",ke((function(){return Object(be["c"])(r._capabilitiesUrl,r._version,n).then((function(e){return e.props}))}),"WFS","FEATURETYPEPROPDETAILS",this._capabilitiesUrl,t));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVersion",value:function(){return this._version}},{key:"_getJsonCompatibleOutputFormat",value:function(e){var t=this._getFeatureTypeByName(e);if(!t)throw new Error("The following feature type was not found in the service: ".concat(e));var n=t.outputFormats.filter((function(e){return e.toLowerCase().indexOf("json")>-1}));return n.length?n[0]:null}},{key:"supportsJson",value:function(e){return this._featureTypes?!!this._getJsonCompatibleOutputFormat(e):null}},{key:"getFeatureUrl",value:function(e,t){if(!this._featureTypes)return null;var n=t||{},r=n.maxFeatures,a=n.asJson,s=n.outputFormat,i=n.outputCrs,o=n.extent,u=n.extentCrs,c=this._getFeatureTypeByName(e);if(!c)throw new Error("The following feature type was not found in the service: ".concat(e));var l=s;if(a){if(l=this._getJsonCompatibleOutputFormat(e)||void 0,!l)throw new Error("The endpoint does not appear to support GeoJSON for the feature type ".concat(c.name))}else if(s&&-1===c.outputFormats.indexOf(s))throw new Error("The following output format type was not found in the feature type ".concat(c.name,": ").concat(s));return Rt(this._capabilitiesUrl,this._version,c.name,l,r,void 0,void 0,i,o,u)}}]),e}(),Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.featureType.name))]),n("InfoList",{attrs:{info:e.featureTypeInfo}}),n("p",[e._v("Properties")]),n("InfoList",{attrs:{info:e.featureProperties}}),null!==e.featurePropsDetails||e.loadingValues?e._e():n("div",[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.loadValues()}}},[e._v(" Load unique values ")])]),e.loadingValues?n("div",[e._v("Loading unique values...")]):e._e(),null!==e.featurePropsDetails?n("div",[n("p",[e._v("Unique values")]),n("InfoList",{attrs:{info:e.uniqueValues}})],1):e._e()],1)},At=[],Mt={name:"WfsFeatureTypeInfo",components:{InfoList:nt},props:{featureType:Object,endpoint:Object},data:function(){return{loadingValues:!1,featurePropsDetails:null}},computed:{featureTypeInfo:function(){return Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])(Object(me["a"])({},"title"in this.featureType&&{title:this.featureType.title}),"abstract"in this.featureType&&{abstract:this.featureType.abstract}),{},{CRS:[this.featureType.defaultCrs].concat(Object(Le["a"])(this.featureType.otherCrs)).join(", ")},"objectCount"in this.featureType&&{"object count":this.featureType.objectCount}),"geometryName"in this.featureType&&{"geometry name":this.featureType.geometryName}),"geometryType"in this.featureType&&{"geometry type":this.featureType.geometryType})},featureProperties:function(){return Object(me["a"])({},this.featureType.properties)},uniqueValues:function(){var e=this;return null===this.featurePropsDetails?{}:Object.keys(this.featurePropsDetails).reduce((function(t,n){return Object(me["a"])(Object(me["a"])({},t),{},Object(St["a"])({},n,e.featurePropsDetails[n].uniqueValues.sort((function(e,t){return t.count-e.count})).filter((function(e,t){return t<=8})).map((function(e,t){return t<8?"".concat(e.value," (").concat(e.count,")"):"..."})).join(", ")))}),{})}},methods:{loadValues:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingValues=!0,t.next=3,e.endpoint.getFeatureTypePropDetails(e.featureType.name);case 3:e.featurePropsDetails=t.sent,e.loadingValues=!1;case 5:case"end":return t.stop()}}),t)})))()}},watch:{featureType:function(){this.loadingValues=!1,this.featurePropsDetails=null}}},Bt=Mt,Nt=Object(l["a"])(Bt,Wt,At,!1,null,"338bfa2b",null),Ut=Nt.exports,Dt={name:"WfsEndpoint",components:{WfsFeatureTypeInfo:Ut,ItemsTree:ft,InfoList:nt},data:function(){return{loading:!1,error:null,endpoint:null,url:"https://ahocevar.com/geoserver/wfs",selectedFeatureType:null}},computed:{loaded:function(){return this.endpoint&&!1===this.loading&&null===this.error}},methods:{createEndpoint:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=null,e.loading=!0,e.endpoint=new It(e.url),t.prev=3,t.next=6,e.endpoint.isReady();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](3),e.error=t.t0.message;case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[3,8]])})))()},handleItemClick:function(e,t){var n=this;return Object(de["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.preventDefault(),r.next=3,n.endpoint.getFeatureTypeFull(e.name);case 3:n.selectedFeatureType=r.sent;case 4:case"end":return r.stop()}}),r)})))()}}},Vt=Dt,Gt=Object(l["a"])(Vt,Ot,jt,!1,null,"945ef620",null),$t=Gt.exports,qt={name:"App",components:{WfsEndpoint:$t,WmsEndpoint:xt}},zt=qt,Jt=Object(l["a"])(zt,ue,ce,!1,null,null,null),Ht=Jt.exports,Yt={name:"App",components:{Docs:oe,LibLogo:d,Demo:Ht},data:function(){return{demoTabEnabled:!1}}},Xt=Yt,Qt=(n("9789"),Object(l["a"])(Xt,a,s,!1,null,"2c5966d3",null)),Kt=Qt.exports;hljs.initHighlightingOnLoad(),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(Kt)}}).$mount("#app")},"5d68":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("5530"),n("1da1"),n("c1c3"),n("d3b7");var r=0;function a(){return r++}function s(e,t,n){return new Promise((function(r,s){var i=a(),o={requestId:i,taskName:e,params:n};null===t?window.dispatchEvent(new CustomEvent("ogc-client.request",{detail:o})):t.postMessage(o);var u=function e(n){var a=n.detail,o=n.data,u=a||o;u.requestId===i&&(null===t?window.removeEventListener("message",e):t.removeEventListener("message",e),"error"in u?s(u.error):r(u.response))};null===t?window.addEventListener("ogc-client.response",u):t.addEventListener("message",u)}))}},"902e":function(e,t,n){"use strict";n("ffa5")},9566:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c}));var r,a=n("5d68"),s=!1;function i(){return s?null:(r||(r=new Worker(e,void 0)),r)}function o(e){return Object(a["a"])("parseWmsCapabilities",i(),{url:e})}function u(e){return Object(a["a"])("parseWfsCapabilities",i(),{url:e})}function c(e,t,n){return Object(a["a"])("queryWfsFeatureTypeDetails",i(),{url:e,serviceVersion:t,featureTypeFull:n})}}).call(this,n("2f38"))},9789:function(e,t,n){"use strict";n("e169")},a8ac:function(e,t,n){"use strict";n("0e7b")},a99a:function(e,t,n){},b03c:function(e,t,n){},b467:function(e,t,n){"use strict";n("f0d7")},e169:function(e,t,n){},f0d7:function(e,t,n){},fb2c:function(e,t,n){"use strict";n("a99a")},fc04:function(e,t,n){},ffa5:function(e,t,n){}});
//# sourceMappingURL=app.df470966.js.map